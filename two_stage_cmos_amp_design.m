Vearlyp = 1/0.05; 
Vearlyn = 1/0.04; 
vearly2 = Vearlyn; 
vearly4 = Vearlyp; 
vearly6 = Vearlyp; 
vearly7 = Vearlyn;

CL = 2e-12; 
SR = 1e6; 
VDD = 1.8; 
Vinmax = VDD-0.3; 
Vth3max = -0.76; 
Vth3  = -0.7; 
Vth1min = 0.65;
GB = 10e6; 
Vinmin = -Vinmax; 
Vth1max = 0.86;
Vss = -VDD; 
knprime = 120e-6; 
kpprime = 55e-6;

CC = 0.22 * CL; 
CC = CC*1e12; 
CC = ceil(CC); 
CC = CC*1e-12;
ID5 = SR*CC;
S3 = ID5/(kpprime*(VDD - abs(Vth3max) - Vinmax + Vth1min)^2 );
S4 = S3; 
ID1 = ID5/2; 
ID2 = ID1; 
ID3 = ID1; 
ID4 = ID1;
Vgs3 = sqrt(2*ID3/(kpprime*S3)) - Vth3;
gm3 = 2*ID3/((Vgs3 - Vth3 ));
gm1=  GB*2 *pi*CC;
gm2 = gm1;
S1 = gm1^2/(knprime*ID5);
S2 = S1; 
S6= 2 * S3;
gm4 = sqrt(2*kpprime * S4* ID4);
Vds5sat = Vinmin - Vss - sqrt(ID5/(knprime  * S1)) - Vth1max;
S5 = 2*ID5/(knprime * Vds5sat^2); 
S8 = S5;
gm6_2 = 10*gm1;
S6_2 = S4*gm6_2/gm4;
gm6_3 = 2.2*gm2*CL/CC;
S6_3 = S4*gm6_3/gm4;
ID6_3 = gm6_3^2/(2*kpprime * S6_3);
ID7_3 = ID6_3;
S7_3 = ID7_3/ID5 * S5;
ID6_2 = gm6_2^2/(2*kpprime * S6_2);
ID7_2 = ID6_2;
S7_2 = ID7_2/ID5 * S5;
Av_3 = 2*gm2*gm6_3*1/(ID5*(1/vearly2 + 1/vearly4))*1/(ID6_2*(1/vearly6 + 1/vearly7));
Av_2 = 2*gm2*gm6_2*1/(ID5*(1/vearly2 + 1/vearly4))*1/(ID6_2*(1/vearly6 + 1/vearly7));
Iss_2 = (ID5*2 + ID6_2)/10^-3; Iss_3 = (ID5*2 + ID6_3)/10^-3;
